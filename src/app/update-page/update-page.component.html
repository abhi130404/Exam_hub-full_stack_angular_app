<div class="container" style="padding-top: 5px;">
    <div align="center">
      <button routerLink="/">Go Back</button>
    </div>
  </div>
  
  <div align="center" style="margin-top: 10%; margin-bottom: 10%;">
    <div class="card w-50">
      <div style="padding-top: 10px; padding-bottom: 10px;">
        <h4 class="title">Update Profile !</h4><br>
        <!-- Add ngForm to track form validity -->
        <form style="padding-bottom: 20px;" #registerForm="ngForm" (ngSubmit)="update_func()">
          <!-- First Name -->
          <label class="field" for="first_name">
            <input
              autocomplete="off"
              id="first_name"
              placeholder="First Name"
              class="input-field"
              name="first_name"
              type="text"
              [(ngModel)]="first_name"
              [pattern]="letterPattern"
              required
              #firstName="ngModel"
            />
          </label>
          <div *ngIf="firstName.invalid && firstName.touched" align="left">
            <small style="color: red;">Only alphabetic characters are allowed.</small>
          </div>
  
          <!-- Last Name -->
          <label class="field" for="last_name">
            <input
              autocomplete="off"
              id="last_name"
              placeholder="Last Name"
              class="input-field"
              name="last_name"
              type="text"
              [(ngModel)]="last_name"
              [pattern]="letterPattern"
              required
              #lastName="ngModel"
            />
          </label>
          <div *ngIf="lastName.invalid && lastName.touched" align="left">
            <small style="color: red;">Only alphabetic characters are allowed.</small>
          </div>
  
          <!-- Phone Number -->
          <label class="field" for="phone_number">
            <span><i class="fas fa-phone input-icon"></i></span>
            <input
              id="phone_number"
              placeholder="Phone number"
              class="input-field"
              name="phone_number"
              type="tel"
              [(ngModel)]="phone_number"
              required
              maxlength="10"
              #phoneNumber="ngModel"
            />
          </label>
          <div *ngIf="phone_number && phone_number_length()" align="left">
            <small style="color: red;">Phone number must be at least 10 digits long.</small>
          </div>
          <div *ngIf="phone_number && !isPhoneNumberValid()" align="left">
            <small style="color: red;">Only numeric values are allowed for phone number.</small>
          </div>
  
          <!-- Email -->
          <label class="field" for="email">
            <span class="input-icon">&#64;</span>
            <input
              autocomplete="off"
              id="email"
              placeholder="Email"
              class="input-field"
              name="email"
              type="email"
              [(ngModel)]="email"
              
              
            />
          </label>
  
          <!-- Password -->
          <label class="field" for="password">
            <svg class="input-icon" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
              <path d="M80 192V144C80 64.47 144.5 0 224 0C303.5 0 368 64.47 368 144V192H384C419.3 192 448 220.7 448 256V448C448 483.3 419.3 512 384 512H64C28.65 512 0 483.3 0 448V256C0 220.7 28.65 192 64 192H80zM144 192H304V144C304 99.82 268.2 64 224 64C179.8 64 144 99.82 144 144V192z"></path>
            </svg>
            <input
              id="password"
              placeholder="Password"
              class="input-field"
              name="password"
              [type]="passwordVisible ? 'text' : 'password'" 
              [(ngModel)]="password"
              required
              #passwordField="ngModel"
            >
            <span style="margin-right: 10px;" *ngIf="!eye_close">
              <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width="16" 
                height="16" 
                fill="white" 
                class="bi bi-eye-fill" 
                viewBox="0 0 16 16" 
                (click)="togglePasswordVisibility()"> 
                <path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"/>
                <path d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7"/>
              </svg>

              
              
            </span> 
            <span style="margin-right: 10px;" *ngIf="eye_close">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="white" class="bi bi-eye-slash-fill" viewBox="0 0 16 16" (click)="togglePasswordVisibility()">
                <path d="m10.79 12.912-1.614-1.615a3.5 3.5 0 0 1-4.474-4.474l-2.06-2.06C.938 6.278 0 8 0 8s3 5.5 8 5.5a7 7 0 0 0 2.79-.588M5.21 3.088A7 7 0 0 1 8 2.5c5 0 8 5.5 8 5.5s-.939 1.721-2.641 3.238l-2.062-2.062a3.5 3.5 0 0 0-4.474-4.474z"/>
                <path d="M5.525 7.646a2.5 2.5 0 0 0 2.829 2.829zm4.95.708-2.829-2.83a2.5 2.5 0 0 1 2.829 2.829zm3.171 6-12-12 .708-.708 12 12z"/>
              </svg>
              </span>

            
          </label>
          
  
          <!-- Confirm Password -->
          <label class="field" for="conform_password">
            <svg class="input-icon" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
              <path d="M80 192V144C80 64.47 144.5 0 224 0C303.5 0 368 64.47 368 144V192H384C419.3 192 448 220.7 448 256V448C448 483.3 419.3 512 384 512H64C28.65 512 0 483.3 0 448V256C0 220.7 28.65 192 64 192H80zM144 192H304V144C304 99.82 268.2 64 224 64C179.8 64 144 99.82 144 144V192z"></path>
            </svg>
            <input
              id="confirm_password"
              placeholder="Confirm Password"
              class="input-field"
              name="conform_password"
              [type]="passwordVisible ? 'text' : 'password'" 
              [(ngModel)]="conform_password"
              required
              #confirmPasswordField="ngModel"
            >
            <span style="margin-right: 10px;" *ngIf="!eye_close">
              <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width="16" 
                height="16" 
                fill="white" 
                class="bi bi-eye-fill" 
                viewBox="0 0 16 16" 
                (click)="togglePasswordVisibility()"> 
                <path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"/>
                <path d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7"/>
              </svg>

              
              
            </span> 
            <span style="margin-right: 10px;" *ngIf="eye_close">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="white" class="bi bi-eye-slash-fill" viewBox="0 0 16 16" (click)="togglePasswordVisibility()">
                <path d="m10.79 12.912-1.614-1.615a3.5 3.5 0 0 1-4.474-4.474l-2.06-2.06C.938 6.278 0 8 0 8s3 5.5 8 5.5a7 7 0 0 0 2.79-.588M5.21 3.088A7 7 0 0 1 8 2.5c5 0 8 5.5 8 5.5s-.939 1.721-2.641 3.238l-2.062-2.062a3.5 3.5 0 0 0-4.474-4.474z"/>
                <path d="M5.525 7.646a2.5 2.5 0 0 0 2.829 2.829zm4.95.708-2.829-2.83a2.5 2.5 0 0 1 2.829 2.829zm3.171 6-12-12 .708-.708 12 12z"/>
              </svg>
              </span>

          </label>
  
          <div *ngIf="password && conform_password && password !== conform_password" align="left">
            <small style="color: red;">Passwords do not match.</small>
          </div>
  
          <div align="center">
            <div class="loader" *ngIf="visible">
              <div class="circle"></div>
              <div class="circle"></div>
              <div class="circle"></div>
              <div class="circle"></div>
            </div>
          </div>
  
          <!-- Register Button -->
          <button
            class="btn"
            type="submit"  
            [disabled]="!registerForm.valid"  >
            Update
          </button>
          <br>
          
  
          <!-- Login Link -->
          <span class="btn-link" routerLink="/login_page" style="cursor: pointer;">Login here</span>
        </form>
      </div>
    </div>
  </div>
  